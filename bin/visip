#!/usr/bin/python3
"""
Usage:
    python3 visip [env.yaml] visip_script.py
or
    visip [env.yaml] visip_script.py
"""
import sys
from ruamel.yaml import YAML
from visip.dev.evaluation import run_env
#print(visip.__file__)


def read_args():
    if len(sys.argv) == 2:
        env = None
    else:
        assert len(sys.argv) == 3
        with open(sys.argv[1], 'r') as f:
            yaml_reader = YAML(typ="safe")
            env = yaml_reader.load(f)

    return env, sys.argv[2]


if __name__ == "__main__":
    env, script = read_args()
    run_env(script, env)
